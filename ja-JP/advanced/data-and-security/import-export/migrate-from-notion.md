# Notionからの移行

### 手順

**ステップ1**

1.  **「設定」を開きます。**\
    <figure><img src="../../../../.gitbook/assets/notion/1-1.png" alt="Open Settings &#x26; members" width="500"><figcaption></figcaption></figure>
2.  **「接続」を開き、「インテグレーションを作成または管理する」をクリックします。**\
    <figure><img src="../../../../.gitbook/assets/notion/1-2.png" alt="Open My Connections" width="500"><figcaption></figcaption></figure>
3.  **「新しいインテグレーション」をクリックします。**\
    <figure><img src="../../../../.gitbook/assets/notion/1-3.png" alt="Create new integration" width="500"><figcaption></figcaption></figure>
4.  **インポートしたいワークスペースを選択し、インテグレーションの名前を入力します。**\
    <figure><img src="../../../../.gitbook/assets/notion/1-4.png" alt="Set Name for integration" width="500"><figcaption></figcaption></figure>
5.  **重要：**\
    **「機能」の項目で以下の権限を選択し、「保存」をクリックしてください。**\
    * コンテンツの読み取る\
    * ユーザー情報を読み取る\
    <figure><img src="../../../../.gitbook/assets/notion/1-5.png" alt="Select capabilities" width="500"><figcaption></figcaption></figure>
6.  **データをインポートするために必要な「内部インテグレーションシークレット」 をコピーします。**\
    <figure><img src="../../../../.gitbook/assets/notion/1-6.png" alt="Copy Internal Integration Secret" width="500"><figcaption></figcaption></figure>

**ステップ2**

**次に、Anytypeにインポートしたいページに、先ほど作成したインテグレーションを接続します。**
指定したページとその配下にあるすべての子ページがインポート対象になります。

1. **ページの右上にある「・・・」メニューから「接続」を選択します。**\
   （表示されない場合は、スクロールしてみてください）
2. **表示されたインテグレーションの中から、ステップ1で作成したインテグレーションを選びます。**
    <figure><img src="../../../../.gitbook/assets/notion/2-1.png" alt="Connect to Anytype integration" width="500"><figcaption></figcaption></figure>
3. **そして、ページへの接続を許可します。**\.
   <figure><img src="../../../../.gitbook/assets/notion/2-2.png" alt="Press Confirm" width="500"><figcaption></figcaption></figure>
4.  **同じ要領で、インポートしたいトップページをすべて接続する。**\
    インポート後にページ間のリンクが切れてしまわないように、インポートしたい階層の最も上位にあるページ（トップページ）を一つひとつ接続してください。

**ステップ3**

以下の手順でインポートを始めます。

1.  **インポートを始める前に、以下の環境が整っているか確認してください。**
    * 特にページ数が多い場合は、安定したインターネット接続をご利用ください。
    * PCを電源に接続してください。
    * インポート処理が中断されないよう、コンピューターのスリープモードを無効にしてください。
2.  **Anytypeのインポート画面を開きます。**
3.  **Notionでコピーした内部インテグレーションシークレットを貼り付けて、インポートを開始します。**


{% hint style="info" %}
Notionの一部機能は未対応のため、**一部データが完全にはインポートされない**場合があります。
{% endhint %}

### FAQ

<details>

<summary>一部のNotionデータが正しくインポートされないのはなぜですか？</summary>

AnytypeはNotionの全ての機能に対応しているわけではないため、一部のデータは正しくインポートされない場合があります。

例：
* ユーザーメンション（@）は、プレーンテキストに変換されます。
* 期間が設定された日付は、テキストとしてインポートされます。
* 数式や集計データは、計算後の「値」としてインポートされます。

</details>

<details>

<summary>Notionからインポート後、「ページが見つかりません」と表示されるのはなぜですか？</summary>

リンク先のページが、インポート対象に含まれていないことが原因です。Anytypeは連携を許可されたページしかインポートできないため、許可されていないページへのリンク切れが発生します。

**対処法**

* **Notionで接続を追加する**：まず、Notionに戻り、すべてのページが接続されていることを確認してください。リンク切れになっていたページは接続設定を行ってください。接続方法は[Notionへの移行のステップ2](migrate-from-notion.md#notion-import-step-by-step-guide)</a>をご覧ください。
* **再度インポートする：**：接続設定を追加したら、もう一度Anytypeでインポート操作を行ってください。

</details>

<details>

<summary>インポートしたファイルが見つからない時は</summary>

インポート後、一部のファイルが見つからない場合、以下の原因が考えられます。

* **正しく接続されてない** Notion側で接続を許可したページのみがインポート対象となります。ファイルが添付されているページ自体が接続されていない場合も含まれているファイルがインポートされません。
* **低速なインターネット環境**：インターネット接続が遅い場合、大量のファイルをインポートしようとすると、ダウンロード中にファイルへのリンクの有効期限が切れてしまい、結果としてファイルが欠落することがあります。

**対処法**

* **Notionの接続を確認する**：インポートを実行する前に、Notion側ですべてのページとその中のファイルが正しく接続されていることを再度ご確認ください。
* **高速なインターネット接続**：可能であれば、より高速で安定したインターネット接続環境でインポートをお試しください。
* **手動でファイルを追加する**：インポート後もファイルが欠落している場合は、お手数ですが、対象のファイルをAnytypeに手動でアップロードしてください。

</details>

<details>

<summary>NotionからAnytypeへのインポートに時間がかかるのはなぜですか？</summary>

Notion側のアクセス制限により、時間がかかっている可能性があります。Anytypeでは、正確にデータを移行するため、インポートにNotionの公式APIを利用しています。ただ、何度もNotion側のサーバーにアクセスするため、データ量が多い場合、アクセス回数に制限が入ることがあります。

**対処法**

インポート処理が途中で中断されないよう、以下の設定をお勧めします。

* **PCを電源に接続する**：インポート中はPCを電源に接続したままにしてください。
* **スリープモードを無効にする**：PCがスリープ状態にならないように設定してください。
* **完了まで待つ**：データ量によっては完了まで時間がかかりますが、処理は着実に進んでいます。そのままお待ちください。

</details>

<details>

<summary>Notion APIでのインポートがうまくいかない、またはNotionにアクセスできない場合</summary>

Notion APIを利用したインポートで何らかの問題が発生した場合や、Notionワークスペースにアクセスできなくなった場合は、Notionの「マークダウンとCSV」形式でエクスポートし、AnytypeのMarkdownインポート機能を使ってインポートをお試しください。

ただし、「マークダウンとCSV」形式によるインポートは、API経由のインポートと比較して、失われる情報が多くなる点にご注意ください。Markdown形式では、ドキュメントの構造が完全に書き出されないことがあるためです。ページの階層構造やリンクが一部失われる場合があります。

**対処法**
* **Notionからエクスポート:** Notionのワークスペースで、データを「マークダウンとCSV」形式でエクスポートします。
* **Anytypeへインポート:** Markdown形式でインポートし、書き出したコンテンツをスペースに取り込みます。

</details>
